{% macro renderTransitionButton(workflow, transition, enabled, url, redirectToWorkflow, dialogUrl) %}
    <button type="button"
        {% if not enabled %}disabled="disabled"{% endif %}
        data-transition-url="{{ url }}"
        data-redirect-to-workflow="{{ redirectToWorkflow }}"
        data-transition-label="{{ transition.label|trans }}"
        {% if transition.message %}data-message="{{ transition.message|trans }}"{% endif %}
        {% if dialogUrl %}data-dialog-url="{{ dialogUrl }}"{% endif %}
        class="btn icons-holder-text no-hash {% if transition.frontendOptions is defined and transition.frontendOptions.class is defined %}{{ transition.frontendOptions.class }}{% endif %}"
        id="transition-{{ workflow.name }}-{{ transition.name }}">
        {% if transition.frontendOptions is defined and transition.frontendOptions.icon is defined %}
            <i class="{{ transition.frontendOptions.icon }} hide-text">{{ transition.label|trans }}</i>
        {% endif %}
        {{ transition.label|trans }}
    </button>
{% endmacro %}

{% macro renderTransitionsJs(transitionsData, blockId) %}
    <script type="text/javascript">
        require(['jquery', 'oro/workflow-transition-handler'],
        function($, workflowTransitionHandler) {
            'use strict';

            $(function() {
                var container = $('#{{ blockId }}');
                {% for data in transitionsData %}
                    container.find('#transition-{{ data.workflow.name }}-{{ data.transition.name }}').on(
                        'click',
                        workflowTransitionHandler
                    );
                {% endfor %}
            });
        });
    </script>
{% endmacro %}
